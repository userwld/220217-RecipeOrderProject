<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cooking.recipe.recipe.dao.ISearchDAO">

<resultMap type="com.cooking.recipe.recipe.dto.SearchDTO" id="search">
	<result column="recipeName" property="recipeName"/>
	<result column="searchCount" property="searchCount"/>
	<result column="searchDate" property="searchDate"/>
</resultMap>

<insert id="insertView" parameterType="String">
	insert into search values(#{recipeName},1,to_char(sysdate,'YY-MM-DD'))
</insert>

<select id="isExistView" resultType="int">
	select count(*) from search where recipeName=#{recipeName} and searchDate=#{nowDate}
</select>

<update id="updateView">
	update search set searchCount=searchCount+1 where recipeName=#{recipeName} and searchDate=#{nowDate}
</update>



</mapper>